# flipner

Тестовое задание для flipner.com.

### Описание задания

Создать бэкенд и фронтенд для управления списком книг. Развернуть веб-сервер и запустить созданное приложение. Код выложить на github.com.

Полное описание смотри [здесь](https://docs.google.com/document/d/14RZ3VrzoIw4NWBAUkiuBbTnU2j1Seg_z9OReJceEP9c/edit).

### Описание бэкенда

Реализован на Django и DRF.

Сервис состоит из двух частей: 
1. book - для управления книгами.
   
    Атрибуты ресурса:
    - name - *str, обязательное*, максимальная длина 20
    - title - *str, не обязательное*, максимальная длина 30
    - author - *str, обязательное*, максимальная длина 30
    - description - *str, не обязательное*, максимальная длина 512
    - price - *int, обязательное*, максимальная длина 5
    
    Доступные действия над ресурсом:

    Получение списка книг, добавление книги, изменение книги, удаление книги

2. profile - для управления видимостью параметров книг. 
   
    Аттрибуты ресурса:
    - column_name - *str, обязательное*, название столбца, запрещено редактировать
    - is_visible - *bool, обязательное*, флаг видимости столбца
    
    Доступные действия над ресурсом:

    Получение списка видимых столбцов, изменение видимости столбца

### Описание фронтенда

Реализован на Vue.js.

Связь с бэкендом по API.

### Доступ к сервису

Сервис доступен по адресу *http://test.msklv.ru/*.

API доступно по адресу *http://test.msklv.ru/api/v1/*.

Документация API доступна по адресу *http://test.msklv.ru/docs/*.

### Как развернуть проект локально

1. Скопируйте проект
    ```sh
    git clone git@github.com:maskalev/flipner.git
    ```
2. Переёдите в директорию с проектом
    ```sh
    cd flipner/
    ```

3. В корне проекта создайте файл .env
    ```
    DJANGO_SECRET_KEY=<django-secret-key>
    ```

4. Запустите проект
    ```sh
    docker-compose up -d --build
    ```

5. Выполните миграции
    ```sh
    docker-compose exec -T api python3 manage.py migrate --no-input
    ```

6. Соберите статику
    ```sh
    docker-compose exec -T api python3 manage.py collectstatic --no-input
    ```

7. Перезапустите проект
    ```sh
    docker-compose restart
    ```

8. Скопируйте данные
    ```sh
    docker-compose exec -T api python manage.py loaddata -e=auth -e=contenttypes fixtures.json
    ```

Сервис доступен на *localhost:8080*.

API доступен на *localhost:8000/api/v1/*.

Документация API доступна на *localhost:8000/docs/*.

### Дополнительно реализовано:

1. тестирование бэкенда;
2. GitHub Workflows (проверка качества кода и тестирование);
3. логгирование запросов и операций с БД;
4. панель администратора (доступна на *localhost:8000/admin*, данные для входа при использовании предоставленных фикстур: *admin/admin*).
